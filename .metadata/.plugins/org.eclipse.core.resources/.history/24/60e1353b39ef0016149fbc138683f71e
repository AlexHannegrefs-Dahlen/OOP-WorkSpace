package tic.tac.toe.controller;

import tic.tac.toe.model.board.Board;
import tic.tac.toe.model.player.OPlayer;
import tic.tac.toe.model.player.Player;
import tic.tac.toe.model.player.XPlayer;
import tic.tac.toe.view.GUI;

public class Controller {
	private static Board gameBoard;

	private static Player playerWon;
	private static OPlayer playerO;
	private static XPlayer playerX;

	private static GUI GUI = new GUI();
	
	private static int turnCounter = 0;

	public static void main(String[] args) {
		gameBoard = new Board();
		playerO = new OPlayer(false);
		playerX = new XPlayer(true);
		GUI.initGUI(gameBoard);
	}

	public static void takeSquare(int square) {
		if (!gameBoard.getBoardspaces()[square - 1].isTaken()) {
			if (playerX.isTurn()) {
				gameBoard.getBoardspaces()[square - 1].setSymbol(playerX);
			} else {
				gameBoard.getBoardspaces()[square - 1].setSymbol(playerO);
			}
			gameBoard.getBoardspaces()[square - 1].setTaken(true);
			switchTurns();
			turnCounter++;
			checkTurnCounter();
		}
	}

	private static void checkTurnCounter() {
		if(turnCounter == 9){
			GUI.showMessage("Tie Game");
		}
	}

	private static void switchTurns() {
		playerO.setTurn(!playerO.isTurn());
		playerX.setTurn(!playerX.isTurn());
	}

}
